{% extends 'polls/base.html' %}

{% block title %}{{ question.text }}{% endblock %}

{% block content %}
<div class="card mb-4">
    <div class="card-body">
        <h1 class="card-title">{{ question.text }}</h1>

        {% if question.image %}
            <img src="{{ question.image.url }}" class="img-fluid mb-3" alt="Изображение вопроса">
        {% endif %}

        <p><strong>Описание:</strong><br>{{ question.description }}</p>

        {% if error_message %}
            <div class="alert alert-danger">{{ error_message }}</div>
        {% endif %}

        <form action="{% url 'polls:vote' question.id %}" method="post">
            {% csrf_token %}
            {% for choice in question.choice_set.all %}
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}">
                    <label class="form-check-label" for="choice{{ forloop.counter }}">{{ choice.choice_text }}</label>
                </div>
            {% endfor %}
            <button type="submit" class="btn btn-primary mt-2">Проголосовать</button>
        </form>
    </div>
</div>

<div>
    <a href="{% url 'polls:index' %}" class="btn btn-outline-secondary">Все вопросы</a>
    <a href="{% url 'polls:results' question.id %}" class="btn btn-outline-info">Посмотреть результаты</a>
</div>

{% endblock %}